<!DOCTYPE HTML>
<!--
    Editorial by HTML5 UP
    html5up.net | @ajlkn
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
    <title>肝癌風險預測</title>
    <meta name="description" content="A Risk Score to Predict the Annually Changing Incidence of Hepatocellular Carcinoma in Previously Untreated Asian Patients on Antiviral Therapy for Chronic Hepatitis B ">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="assets/css/main.css" />
    <style type="text/css">
    .sectionTitle {
        text-decoration: underline;
        font-weight: 700;
    }

    .questionTitle {
        font-size: 1.7em;
        color: #3d4449;
        font-family: "Roboto Slab", serif;
        font-weight: 700;
        line-height: 1.5;
        margin: 0 0 0.5em 0;
        width: 50%;
    }

    [type=radio]:checked+label {
        background-color: #f56a6a;
        border-radius: 0.375em;
        color: #ffffff;
        z-index: 1;
    }

    input[type="checkbox"]+label,
    input[type="radio"]+label {
        padding: 0 1em;
        position: initial;
        font-size: 1.5em
    }

    #explanTable {
        font-size: 1.8em;
    }

    #explanTable th {
        text-align: center;
        padding: 0 0.5em;
    }

    #explanTable td {
        padding: 0 1em;
    }

    #explanTable td:nth-child(2) {
        text-align: right;
        padding: 0 1em;
    }
    </style>
    <!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
    <!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
</head>

<body>
    <!-- Wrapper -->
    <div id="wrapper">
        <!-- Main -->
        <div id="main">
            <div class="inner">
                <!-- Header -->
                <header id="header" style="padding-top:0;">
                    <a href="index.html" class="logo" style="font-size: 2em"><strong>肝癌風險預測</strong></a>
                    <!-- <span style="text-align:right">Chun-Ying Wu</span> -->
                </header>
                <!-- Banner -->
                <section id="banner-1" style="padding:0.5em 0 0 0;">
                    <div class="content">
                        <header>
                            <!-- <p>Predicting HCC incidence in CHB on therapy<span><strong> Individual Decision Making Support Tool</strong></span></p> -->
                        </header>
                    </div>
                    <form id="ScoringSys" class="row">
                        <!-- <div class="12u 12u$(small)"><h2 class="sectionTitle">Enter Your Data：</h2></div> -->
                        <div class="12u 12u$(small)">
                            <!-- Male/Female -->
                            <div class="row ">
                                <div class="6u 12u$(small)">
                                    <span class="questionTitle">1. 性別&emsp;&emsp;&emsp;&emsp;</span>
                                </div>
                                <div class="6u 12u$(small)">
                                    <input type="radio" id="gender-m" name="gender" value="2" checked="" placeholder="">
                                    <label for="gender-m">男</label>
                                    <input type="radio" id="gender-f" name="gender" value="0">
                                    <label for="gender-f">女</label>
                                </div>
                            </div>
                        </div>
                        <div class="12u 12u$(small)">
                            <div class="row">
                                <div class="6u 12u$(small)">
                                    <span class="questionTitle">2. 是否有糖尿病？</span>
                                </div>
                                <div class="6u 12u$(small)">
                                    <input type="radio" id="diabetes-Y" name="diabetes" value="1" checked>
                                    <label for="diabetes-Y">有</label>
                                    <input type="radio" id="diabetes-N" name="diabetes" value="0">
                                    <label for="diabetes-N">沒有</label>
                                </div>
                            </div>
                        </div>
                        <!--                         <div class="12u 12u$(small)">
                            <div class="row">
                                <div class="6u 12u$(small)">
                                    <span class="questionTitle">3. 是否有高血脂？&emsp;</span>
                                </div>
                                <div class="6u 12u$(small)">
                                    <input type="radio" id="hyperlipidemia-y" name="hyperlipidemia" value="1" checked="">
                                    <label for="hyperlipidemia-y">有</label>
                                    <input type="radio" id="hyperlipidemia-n" name="hyperlipidemia" value="0">
                                    <label for="hyperlipidemia-n">沒有</label>
                                </div>
                            </div>
                        </div> -->
                        <div class="12u 12u$(small)">
                            <div class="row">
                                <div class="6u 12u$(small)">
                                    <span class="questionTitle">3. 是否有肝硬化？&emsp;</span>
                                </div>
                                <div class="6u 12u$(small)">
                                    <input type="radio" id="cirrhosis-Y" name="cirrhosis" value="6" checked>
                                    <label for="cirrhosis-Y">有</label>
                                    <input type="radio" id="cirrhosis-N" name="cirrhosis" value="0">
                                    <label for="cirrhosis-N">沒有</label>
                                </div>
                            </div>
                        </div>
                        <div class="12u 12u$(small)">
                            <div class="row">
                                <div class="6u 12u$(small)">
                                    <span class="questionTitle">4. 年紀</span></div>
                                <!-- <input class="4u 8u$(small)" type="number" name="age" placeholder="Please Key in Patient's Age" style="border:0px;border-bottom:1px solid;"> -->
                                <div class="6u 12u$(small)">
                                    <input type="radio" id="u40" name="age" value="0" checked="">
                                    <label for="u40">40歲以下</label>
                                    <input type="radio" id="4050" name="age" value="5">
                                    <label for="4050">40到50歲</label>
                                    <input type="radio" id="5060" name="age" value="8">
                                    <label for="5060">50到60歲</label>
                                    <input type="radio" id="60u" name="age" value="10">
                                    <label for="60u">60歲以上</label>
                                </div>
                            </div>
                        </div>
                        <div class="12u 12u$(small)">
                            <div class="row">
                                <div class="6u 12u$(small)">
                                    <span class="questionTitle">5. 正處於抗病毒藥物治療第幾年？</span>
                                </div>
                                <div class="6u 12u$(small)">
                                    <input type="radio" id="t0" name="treatment-duration" value="0" checked="">
                                    <label for="t0">無</label>
                                    <input type="radio" id="t1" name="treatment-duration" value="0" >
                                    <label for="t1">第一年</label>
                                    <input type="radio" id="t2" name="treatment-duration" value="-2">
                                    <label for="t2">第二年</label>
                                    <input type="radio" id="t3" name="treatment-duration" value="-3">
                                    <label for="t3">大於第三年</label>
                                </div>
                            </div>
                    </form>
                    <ul class="actions row" style="text-align: center;">
                        <li class="12u 12u$(small)">
                            <a id="cal" class="button big" style="font-size:1.5em">計算</a>
                        </li>
                    </ul>
                    </div>
                    <hr class="major">
                </section>
                <section id="banner-2" style="display: none;">
                    <div class="row uniform">
                        <div class="12u 12u$(small)">
                            <span class="sectionTitle questionTitle">肝癌預測發生機率</span>
                        </div>
                        <div class="12u 12u$(small)">
                            <span class="questionTitle">分數： <span id="outcome-score" style="color:#f56a6a">0</span></span>
                            <br>
                            <span class="questionTitle">3年內： <span id="outcome-score-3y" style="color:#f56a6a">0</span>％</span>
                            <br>
                            <span class="questionTitle">5年內： <span id="outcome-score-5y" style="color:#f56a6a">0</span>％</span>
                        </div>
                    </div>
                    <hr class="major" style="margin:1em">
                    <div class="row uniform">
                        <div class="12u 12u$(small)">
                            <span＝ class="sectionTitle questionTitle">建議</span>
                        </div>
                        <div class="11u 11u$(small)">
                            <span class="questionTitle">您的風險指數屬於<span id="risk-ratio" style="color:#f56a6a"></span><span id="recom-1" style=""></span></span>
                        </div>
                    </div>
                    <div class="row uniform" style="text-align: center;">
                        <ul class="actions">
                            <a id="" class="button big reCal" style="font-size:1.5em">重新載入</a>
                            <a id="explainCal" class="button big special" style="font-size:1.5em">計算說明</a>
                        </ul>
                    </div>
                </section>
                <section id="banner-3" style="display: none;">
                    <div class="table-wrapper">
                        <table id="explanTable">
                            <thead>
                                <tr>
                                    <th>性別</th>
                                    <th>分數</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>男</td>
                                    <td>2</td>
                                </tr>
                                <tr>
                                    <td>女</td>
                                    <td>0</td>
                                </tr>
                            </tbody>
                            <thead>
                                <tr>
                                    <th>年齡</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>40歲以下</td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td>40-49歲</td>
                                    <td>5</td>
                                </tr>
                                <tr>
                                    <td>50-59歲</td>
                                    <td>8</td>
                                </tr>
                                <tr>
                                    <td>60歲以上</td>
                                    <td>10</td>
                                </tr>
                            </tbody>
                            <thead>
                                <tr>
                                    <th>糖尿病</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>有</td>
                                    <td>1</td>
                                </tr>
                                <tr>
                                    <td>沒有</td>
                                    <td>0</td>
                                </tr>
                            </tbody>
<!--                             <thead>
                                <tr>
                                    <th>高血脂</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>有</td>
                                    <td>1</td>
                                </tr>
                                <tr>
                                    <td>沒有</td>
                                    <td>0</td>
                                </tr>
                            </tbody> -->
                            <thead>
                                <tr>
                                    <th>肝硬化</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>無</td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td>有，且40歲以上</td>
                                    <td>6</td>
                                </tr>
                                <tr>
                                    <td>有，且40歲以下</td>
                                    <td>9</td>
                                </tr>
                            </tbody>
                            <thead>
                                <tr>
                                    <th>抗病毒藥物治療</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>第一年</td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td>第二年</td>
                                    <td>-2</td>
                                </tr>
                                <tr>
                                    <td>第三年以上</td>
                                    <td>-3</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="row uniform" style="text-align: center;">
                        <ul class="actions">
                            <a id="" class="button big reCal" style="font-size:1.5em">重新載入</a>
                        </ul>
                    </div>
                </section>
            </div>
        </div>
    </div>
    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/skel.min.js"></script>
    <script src="assets/js/util.js"></script>
    <!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
    <script src="assets/js/main.js"></script>
    <script type="text/javascript">
    $(document).ready(function() {
        $('#cal').on('click', function() {
            let TotalScoring = 0;
            let ageScore = Number($('#ScoringSys input[name="age"]:checked').val());
            // let ageScore = 0;
            // if (ageValue < 40) {
            //     ageScore = 0;
            // } else if (40 <= ageValue && ageValue < 50) {
            //     ageScore = 5;
            // } else if (50 <= ageValue && ageValue < 60) {
            //     ageScore = 8;
            // } else if (60 <= ageValue) { ageScore = 10; };
            let cirScore = Number($('#ScoringSys input[name="cirrhosis"]:checked').val());
            let diaScore = Number($('#ScoringSys input[name="diabetes"]:checked').val());
            let genScore = Number($('#ScoringSys input[name="gender"]:checked').val());
            let treDruScore = Number($('#ScoringSys input[name="treatment-duration"]:checked').val());
            let cirScorePlus = 0;
            if (cirScore == 6 && ageScore == 0) { cirScorePlus = 3 } else { cirScorePlus = 0 };
            TotalScoring = cirScore + cirScorePlus + diaScore + genScore + ageScore + treDruScore;


            $('#outcome-score').text(TotalScoring);

            console.log('cirScore=' + cirScore)
            console.log(';cirScorePlus=' + cirScorePlus);
            console.log(';diaScore=' + diaScore);
            console.log(';genScore=' + genScore);
            console.log(';ageScore=' + ageScore);
            console.log(';treDruScore=' + treDruScore);

            let value3y, value5y;
            switch (TotalScoring) {
                case -3:
                    value3y = 0.04;
                    value5y = 0.04;
                    break;
                case -2:
                    value3y = 0.04;
                    value5y = 0.05;
                    break;
                case -1:
                    value3y = 0.05;
                    value5y = 0.07;
                    break;
                case 0:
                    value3y = 0.07;
                    value5y = 0.09;
                    break;
                case 1:
                    value3y = 0.07;
                    value5y = 0.11;
                    break;
                case 2:
                    value3y = 0.09;
                    value5y = 0.13;
                    break;
                case 3:
                    value3y = 0.13;
                    value5y = 0.17;
                    break;
                case 4:
                    value3y = 0.16;
                    value5y = 0.24;
                    break;
                case 5:
                    value3y = 0.21;
                    value5y = 0.28;
                    break;
                case 6:
                    value3y = 0.27;
                    value5y = 0.35;
                    break;
                case 7:
                    value3y = 0.35;
                    value5y = 0.47;
                    break;
                case 8:
                    value3y = 0.44;
                    value5y = 0.58;
                    break;
                case 9:
                    value3y = 0.59;
                    value5y = 0.81;
                    break;
                case 10:
                    value3y = 0.84;
                    value5y = 0.95;
                    break;
                case 11:
                    value3y = 0.96;
                    value5y = 1.20;
                    break;
                case 12:
                    value3y = 1.34;
                    value5y = 1.52;
                    break;
                case 13:
                    value3y = 1.62;
                    value5y = 2.19;
                    break;
                case 14:
                    value3y = 2.10;
                    value5y = 2.90;
                    break;
                case 15:
                    value3y = 2.84;
                    value5y = 4.03;
                    break;
                case 16:
                    value3y = 3.82;
                    value5y = 4.73;
                    break;
                case 17:
                    value3y = 4.55;
                    value5y = 5.41;
                    break;
                case 18:
                    value3y = 4.55;
                    value5y = 7.12;
                    break;
                case 19:
                    value3y = 7.62;
                    value5y = 8.50;
            };
            $('#outcome-score-3y').text(value3y);
            $('#outcome-score-5y').text(value5y);

            if (TotalScoring < 8) {
                $('#risk-ratio').text('低度')
                $('#recom-1').text('恭喜您！不過也提醒，仍有固定的風險、作息飲食仍要注意喔！')
            } else if (TotalScoring > 13) {
                $('#risk-ratio').text('高度');
                $('#recom-1').text('建議您、接受進一步CT或MRI檢查。')
            } else if (TotalScoring < 14 && TotalScoring > 7) {
                $('#risk-ratio').text('中度');
                $('#recom-1').text('建議您，三到六個月再追蹤一次，讓我們一起保持健康：）')
            };

            $('#banner-1').hide();
            $('#banner-2').fadeIn();
        });
        $('.reCal').on('click', function() {
            $('#banner-2').hide();
            $('#banner-3').hide();
            $('#banner-1').fadeIn();
            $('#ScoringSys')[0].reset();
        });
        $('#explainCal').on('click', function() {
            $('#banner-2').hide();
            $('#banner-3').fadeIn();

        });
        // $('#cal').click();
        // $('#explainCal').click();
    });
    </script>
</body>

</html>